<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Hiya</title>
		<meta charset="utf-8" />

		<!--<link rel="stylesheet" href="styles.css" />-->
		<style>
			body {
				width: 500px;
				font-family: Helvetica, Arial;
				font-size: 10pt;
			}

			.header {
				font-size: 20pt;
				margin-bottom: 10px;
			}

			.section {
				margin-bottom: 15px;
			}

			.section .title {
				font-size: 11pt;
				margin-bottom: 4px;
			}

			.box {
				background: #fafafa;
				border: 1px solid #ccc;
				border-radius: 5px;
				box-shadow: 3px 3px 3px #ccc;
				line-height: 150%;
				margin: 0 20px;
				padding: 5px;
			}

			.fieldName {
				font-weight: bold;
			}
		</style>

		<script src="shiv/microformats-isodate.min.js"></script>

		<script>
			function main() {
				chrome.tabs.getSelected(null, function(tab) {
					var microformatData = chrome.extension.getBackgroundPage().hNewsData[tab.id];

					document.getElementById('title').innerHTML = (microformatData.hNews.title) ? microformatData.hNews.title : '';
					document.getElementById('author').innerHTML = (microformatData.hNews.author) ? microformatData.hNews.author : '';
					document.getElementById('source').innerHTML = (microformatData.hNews.source) ? microformatData.hNews.source : '';
					document.getElementById('updated').innerHTML = (microformatData.hNews.updated) ? new Date(microformatData.hNews.updated) : '';

					document.getElementById('dateline').innerHTML = (microformatData.hNews.dateline) ? microformatData.hNews.dateline : '';
					document.getElementById('geo').innerHTML = (microformatData.hNews.geo) ? microformatData.hNews.geo.latitude + ", " + microformatData.hNews.geo.longitude : '';
					document.getElementById('principles').innerHTML = (microformatData.hNews.principle) ? microformatData.hNews.principle.link : '';
					document.getElementById('published').innerHTML = (microformatData.hNews.published) ? new Date(microformatData.hNews.published) : '';

					document.getElementById('license').innerHTML = (microformatData.hNews.license) ? microformatData.hNews.license.link : '';
					document.getElementById('beacon').innerHTML = (microformatData.beacon.link) ? microformatData.beacon.link : '';
				});
			}
		</script>
	</head>

	<body onload="javascript:main()">
		<div class="header">
			<img src="mf_logo.gif" alt=""/>
			hNews Reader
		</div>

		<div class="section">
			<div class="title">hNews required fields:</div>
			<div class="required box">
				<div><span class="fieldName">Headline:</span> <span id="title" class="fieldValue"></span></div>
				<div><span class="fieldName">Byline:</span> <span id="author" class="fieldValue"></span></div>
				<div><span class="fieldName">Source:</span> <span id="source" class="fieldValue"></span></div>
				<div><span class="fieldName">Updated:</span> <span id="updated" class="fieldValue"></span></div>
			</div>
		</div>

		<div class="section">
			<div class="title">hNews optional fields:</div>
			<div class="optional box">
				<div><span class="fieldName">Dateline:</span> <span id="dateline" class="fieldValue"></span></div>
				<div><span class="fieldName">Geo:</span> <span id="geo" class="fieldValue"></span></div>
				<div><span class="fieldName">Principles:</span> <span id="principles" class="fieldValue"></span></div>
				<div><span class="fieldName">Published:</span> <span id="published" class="fieldValue"></span></div>
			</div>
		</div>

		<div class="section">
			<div class="title">AP News Registry required fields:</div>
			<div class="APNR box">
				<div><span class="fieldName">License:</span> <span id="license" class="fieldValue"></span></div>
				<div><span class="fieldName">Usage Tag (beacon):</span> <span id="beacon" class="fieldValue"></span></div>
			</div>
		</div>
	</body>
</html>
